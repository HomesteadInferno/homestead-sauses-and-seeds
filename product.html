<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="meta-title">–ö—É–ø–∏—Ç–∏ –Ω–∞—Å—ñ–Ω–Ω—è –≥–æ—Å—Ç—Ä–∏—Ö –ø–µ—Ä—Ü—ñ–≤, —Å—É–ø–µ—Ä-–≥–æ—Å—Ç—Ä—ñ —Å–æ—É—Å–∏  - Homestead</title> <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto+Slab:wght@300;400;700&display=swap" rel="stylesheet">
    <meta name="description" id="meta-description" content="–ö—É–ø–∏—Ç–∏ –Ω–∞—Å—ñ–Ω–Ω—è –≥–æ—Å—Ç—Ä–∏—Ö –ø–µ—Ä—Ü—ñ–≤ —Ç–∞ —Å–æ—É—Å–∏ –≤ –º–∞–≥–∞–∑–∏–Ω—ñ Homestead">
<meta property="og:title" id="og-title" content="–¢–æ–≤–∞—Ä Homestead">
<meta property="og:description" id="og-description" content="–ù–∞–π–∫—Ä–∞—â–µ –Ω–∞—Å—ñ–Ω–Ω—è —Ç–∞ —Å–æ—É—Å–∏">
<meta property="og:image" id="og-image" content="">
    <link rel="stylesheet" href="style.css"> 
    <script type="application/ld+json" id="product-schema"></script>
    
</head>
<body>

<div class="overlay">
    <div class="container">
        <header>
             <a href="index.html">
                 <img src="homesteadlogo.png" alt="Homestead Logo" class="logo-small">
             </a>
            <div class="cart-wrapper">
                <button class="cart-icon-btn">
                    <svg class="cart-icon-svg" viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
                    <div class="cart-badge" id="cart-count">0</div>
                </button>
                <div class="cart-dropdown">
                    <div id="cart-items-list" class="cart-items-list cart-items-container">
                        <p style="text-align: center; opacity: 0.5;">–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π</p>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px; font-weight: bold;">
                        <span>–†–∞–∑–æ–º:</span> 
                        <span id="cart-total" class="total-price-display">0.00</span>
                    </div>
                    <button class="add-btn" style="padding: 12px;" onclick="openCheckout()">–û—Ñ–æ—Ä–º–∏—Ç–∏</button>
                </div>
            </div>
        </header>

        <button class="back-btn" onclick="goBack()">
            <svg style="width:20px" viewBox="0 0 24 24"><path fill="currentColor" d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path></svg>
            –ù–∞–∑–∞–¥ –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É
        </button>

        <div class="main-grid">
            <aside class="sidebar">
                <h3>–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó</h3>
                <ul>
                    <li><a href="seedsandseedlings.html">üå∂Ô∏è–ù–∞—Å—ñ–Ω–Ω—è —Å—É–ø–µ—Ä-—Ö–æ—Ç—ñ–≤</a></li>
                    <li><a href="sau—Åes.html">üî• –ö—Ä–∞—Ñ—Ç–æ–≤—ñ –°–æ—É—Å–∏</a></li>
                    <li><a href="otherseeds.html">üå± –Ü–Ω—à–µ –Ω–∞—Å—ñ–Ω–Ω—è</a></li>
                </ul>
                <div class="sidebar-rec-wrapper" style="margin-top: 50px;">
        <h3 style="font-size: 16px; margin-bottom: 20px;">üî• –†–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ</h3>
        <div id="sidebar-rec-grid">
            </div>
            <div id="review-form-section" style="margin-top: 50px; padding: 25px; background: rgba(255,255,255,0.03); border: 1px solid #33251e;">
    <h4 style="color: var(--primary-orange); margin-top: 0;">–ó–∞–ª–∏—à–∏—Ç–∏ –≤—ñ–¥–≥—É–∫ –ø—Ä–æ —Ü–µ–π —Å–æ—Ä—Ç</h4>
    
    <div style="display: flex; flex-direction: column; gap: 10px; margin-top: 15px;">
        <input type="text" id="rev-author" placeholder="–í–∞—à–µ —ñ–º'—è" 
               style="background: #1a100a; border: 1px solid #44332a; color: white; padding: 10px;">
        
        <textarea id="rev-text" rows="3" placeholder="–ù–∞–ø–∏—à—ñ—Ç—å –≤–∞—à—ñ –≤—Ä–∞–∂–µ–Ω–Ω—è..." 
                  style="background: #1a100a; border: 1px solid #44332a; color: white; padding: 10px; resize: none;"></textarea>
        
        <button class="add-btn" style="width: auto; padding: 10px 25px;" onclick="sendReview()">
            –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—é
        </button>
    </div>
</div>
        </button>
            </aside>


            <main class="product-page">
                <div class="gallery-col">
                    <div class="main-img-wrap">
                        <button class="nav-arrow left" onclick="changeImage(-1)">&#10094;</button>
                        <img id="main-view" src="" alt="–§–æ—Ç–æ —Ç–æ–≤–∞—Ä—É">
                        <button class="nav-arrow right" onclick="changeImage(1)">&#10095;</button>
                    </div>
                    
                    <div class="thumbs-grid" id="gallery-thumbs"></div>

                    <div class="product-specs" style="margin-top: 20px; border-top: 1px solid rgba(214, 96, 58, 0.3); padding-top: 15px;">
                        <table style="width: 100%; font-size: 14px; border-collapse: collapse;">
                            <tr style="border-bottom: 1px solid rgba(255,255,255,0.05);">
                                <td style="padding: 8px 0; opacity: 0.7;">–¢–µ—Ä–º—ñ–Ω –¥–æ–∑—Ä—ñ–≤–∞–Ω–Ω—è:</td>
                                <td style="padding: 8px 0; text-align: right;" id="spec-maturity"></td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255,255,255,0.05);">
                                <td style="padding: 8px 0; opacity: 0.7;">–í–∏—Å–æ—Ç–∞ —Ä–æ—Å–ª–∏–Ω–∏:</td>
                                <td style="padding: 8px 0; text-align: right;" id="spec-height"></td>
                            </tr>
                            <tr>
                                <td style="padding: 8px 0; opacity: 0.7;">–í–∏–¥:</td>
                                <td style="padding: 8px 0; text-align: right; color: #ff4d00;" id="spec-species"></td>
                            </tr>
                        </table>
                    </div>

                    <p id="product-tips" style="font-size: 13px; color: #888; display: none;">
                        <i></i>
                    </p>
                </div>

                <div class="info-col">
                    <span class="heat-tag" id="product-heat"></span>
                    
                    <h1 id="p-name">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</h1>
                    
                    <div id="p-desc" style="line-height: 1.8; opacity: 0.8; margin-bottom: 20px;"></div>

                    <div class="price-big" id="p-price" data-val="0" data-allow-sale="true">
                        0.00 <span style="font-size: 16px; opacity: 0.6; font-weight: normal;">/ 5 —à—Ç.</span>
                    </div>    

                    <div style="display: flex; gap: 15px; margin-top: 30px;">
                        <input type="number" id="p-qty" value="1" min="1" style="width: 60px; background: #1a120e; border: 1px solid #44332a; color: white; text-align: center;">
                        <button class="add-btn" onclick="pushToCart()">–î–æ–¥–∞—Ç–∏ —É –∫–æ—à–∏–∫</button>
                    </div>

                    <div class="product-meta" style="margin-top: 25px; border-top: 1px dashed #443; padding-top: 15px;">
                        <p style="margin: 5px 0; font-size: 14px; opacity: 0.8;">
                            <strong>–ö—ñ–ª—å–∫—ñ—Å—Ç—å:</strong> <span id="meta-count"></span>
                        </p>
                        <p style="margin: 5px 0; font-size: 14px; opacity: 0.8;">
                            <strong>–ü–∞–∫—É–≤–∞–Ω–Ω—è:</strong> <span id="meta-pack"></span>
                        </p>
                        <p style="margin: 5px 0; font-size: 14px; opacity: 0.8;">
                            <strong>–†—ñ–∫ –∑–±–æ—Ä—É:</strong> <span id="meta-year"></span>
                        </p>
                    </div>
                </div>
            </main>
        </div>
    </div>
</div>

<a href="#" class="floating-cart" onclick="openCheckout(); return false;">
    <span class="cart-icon">üõí</span>
    <span id="cart-count">0</span>
</a>

<div id="checkoutModal" class="modal">
        <div class="modal-box">
            <span class="close-btn" onclick="closeCheckout()">&times;</span>
            
            <div id="modal-main-content" style="display: grid; grid-template-columns: 1fr 300px; gap: 40px; width: 100%;">
                <div class="form-side">
                    <h2 style="color: var(--primary-orange); margin-top:0;">–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è</h2>
                    <div class="form-group">
                        <label>–ü—Ä—ñ–∑–≤–∏—â–µ –Ü–º'—è –ü–æ-–±–∞—Ç—å–∫–æ–≤—ñ</label>
                        <input type="text" id="cust-name">
                    </div>
                    <div class="form-group">
                        <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" id="cust-phone" placeholder="+38XXXXXXXXXX" maxlength="13">
                    </div>
                    <div class="form-group">
                        <label>–°–ø–æ—Å—ñ–± –¥–æ—Å—Ç–∞–≤–∫–∏</label>
                        <select id="cust-delivery">
                            <option value="–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –ù–ü">–ù–æ–≤–∞ –ü–æ—à—Ç–∞ (–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è)</option>
                            <option value="–ü–æ—à—Ç–æ–º–∞—Ç –ù–ü">–ù–æ–≤–∞ –ü–æ—à—Ç–∞ (–ü–æ—à—Ç–æ–º–∞—Ç)</option>
                            <option value="–ö—É—Ä'—î—Ä –ù–ü">–ù–æ–≤–∞ –ü–æ—à—Ç–∞ (–ê–¥—Ä–µ—Å–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>–ú—ñ—Å—Ç–æ</label>
                        <input type="text" id="cust-city" placeholder="–ö–∏—ó–≤">
                        <small style="opacity: 0.5; font-size: 10px;">–¢—ñ–ª—å–∫–∏ –Ω–∞—Å–µ–ª–µ–Ω—ñ –ø—É–Ω–∫—Ç–∏ –£–∫—Ä–∞—ó–Ω–∏</small>
                    </div>

                    <div class="form-group">
                        <label>–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è ‚Ññ –∞–±–æ –ê–¥—Ä–µ—Å–∞</label>
                        <input type="text" id="cust-branch" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è ‚Ññ10 –∞–±–æ –≤—É–ª. –°–∞–¥–æ–≤–∞, 5">
                    </div>
                    <div class="form-group">
                        <label>–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞</label>
                        <input type="text" id="email" placeholder="">
                    </div>
                    <div class="form-group">
                        <label>–ö–æ–º–µ–Ω—Ç–∞—Ä</label>
                        <textarea id="cust-comment"></textarea>
                    </div>
                </div>

                <div class="summary-side">
                    <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px;">
                        <h4 style="margin-top:0;">–í–ê–®–Ü –¢–û–í–ê–†–ò:</h4>
                        <div id="final-list"></div> 
                        <div style="font-size: 20px; font-weight: bold; border-top: 1px solid #443; padding-top: 10px; text-align: right;">
                            –†–∞–∑–æ–º: <span id="final-price">0.00</span>
                        </div>
                    </div>
                    <button class="add-btn" style="margin-top:20px; background:#6ba86b;" onclick="submitOrder()">–ó–∞–º–æ–≤–∏—Ç–∏</button>
                </div>
            </div>

            <div id="success-msg" style="display:none; text-align: center; width: 100%;">
                <h2>üåø –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏–π–Ω—è—Ç–æ!</h2>
                <p>–î—è–∫—É—î–º–æ, –º–∏ —Å–∫–æ—Ä–æ –∑–≤'—è–∂–µ–º–æ—Å—è –∑ –≤–∞–º–∏.</p>
                <button class="add-btn" onclick="closeCheckout()">–ó–∞–∫—Ä–∏—Ç–∏</button>
            </div>
        </div>
    </div>

<script src="products.js"></script>

<script src="cart.js"></script> 

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // –û—Ç—Ä–∏–º—É—î–º–æ ?id=... –∑ URL
        const params = new URLSearchParams(window.location.search);
        const productId = params.get('id');
        const product = allProducts[productId];

        if (product) {
            // --- –°–ï–ö–¶–Ü–Ø SEO (–î–õ–Ø GOOGLE –¢–ê –°–û–¶–ú–ï–†–ï–ñ) ---
            document.title = `${product.name} ‚Äî –∫—É–ø–∏—Ç–∏ –≤ Homestead`;
            // –û–Ω–æ–≤–ª—é—î–º–æ –º–µ—Ç–∞-—Ç–µ–≥–∏, —è–∫—â–æ –≤–æ–Ω–∏ —î –≤ HTML
            const metaDesc = document.getElementById('meta-description');
            if (metaDesc) metaDesc.content = product.description.replace(/<[^>]*>/g, '').substring(0, 160);
            const ogTitle = document.getElementById('og-title');
            if (ogTitle) ogTitle.content = product.name;
            // –§–æ—Ä–º—É—î–º–æ JSON-LD –¥–ª—è Google (—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ)
            const schemaData = {
                "@context": "https://schema.org/",
                "@type": "Product",
                "name": product.name,
                "image": product.images,
                "description": product.description.replace(/<[^>]*>/g, ''),
                "offers": {
                    "@type": "Offer",
                    "priceCurrency": "UAH",
                    "price": product.price,
                    "availability": "https://schema.org/InStock"}
            };
            const schemaScript = document.createElement('script');
            schemaScript.type = 'application/ld+json';
            schemaScript.textContent = JSON.stringify(schemaData);
            document.head.appendChild(schemaScript);
            // --- –ó–ê–ü–û–í–ù–Æ–Ñ–ú–û –¢–ï–ö–°–¢–ò –ù–ê –°–¢–û–†–Ü–ù–¶–Ü ---
            document.getElementById('p-name').innerText = product.name;
            document.getElementById('p-desc').innerHTML = product.description; // innerHTML –¥–æ–∑–≤–æ–ª—è—î —Ç–µ–≥–∏ <br>
            document.getElementById('product-heat').innerText = product.heatLevel;
            
            // -- –ó–ê–ü–û–í–ù–Æ–Ñ–ú–û –¶–Ü–ù–£ (–í–ê–ñ–õ–ò–í–û –î–õ–Ø –î–í–ò–ì–£–ù–ê) --
            const priceEl = document.getElementById('p-price');
            // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –∞—Ç—Ä–∏–±—É—Ç data-val, —è–∫–∏–π —á–∏—Ç–∞—î —Ñ—É–Ω–∫—Ü—ñ—è pushToCart
            priceEl.setAttribute('data-val', product.price);
            // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
            priceEl.innerHTML = `${product.price.toFixed(2)} ‚Ç¥ <span style="font-size: 16px; opacity: 0.6; font-weight: normal;">/ 5 —à—Ç.</span>`;

            // -- –°–ü–ï–¶–ò–§–Ü–ö–ê–¶–Ü–á --
            if (product.specs) {
                document.getElementById('spec-maturity').innerText = product.specs.maturity || "-";
                document.getElementById('spec-height').innerText = product.specs.height || "-";
                document.getElementById('spec-species').innerText = product.specs.species || "-";
            }
            // --- –ú–ï–¢–ê –î–ê–ù–Ü (–ü–ê–ö–£–í–ê–ù–ù–Ø –¢–ê –†–Ü–ö) ---
           if (product.meta) {
                document.getElementById('meta-count').innerText = product.meta.count || "5 —à—Ç.";
                document.getElementById('meta-pack').innerText = product.meta.pack || "Zip-lock";
                document.getElementById('meta-year').innerText = product.meta.year || "2024";
            }
            // -- –ü–†–ò–ú–Ü–¢–ö–ê (–Ø–ö–©–û –Ñ) --
            const tipsEl = document.getElementById('product-tips');
            if (product.growTip) {
                tipsEl.style.display = 'block';
                tipsEl.querySelector('i').innerText = `* ${product.growTip}`;
            }

            // -- –ì–ê–õ–ï–†–ï–Ø --
            const mainImg = document.getElementById('main-view');
            const thumbsContainer = document.getElementById('gallery-thumbs');
            
            if (product.images && product.images.length > 0) {
                // –ì–æ–ª–æ–≤–Ω–µ —Ñ–æ—Ç–æ
                mainImg.src = product.images[0];
                mainImg.alt = product.name;

                // –ì–µ–Ω–µ—Ä—É—î–º–æ –º—ñ–Ω—ñ–∞—Ç—é—Ä–∏
                thumbsContainer.innerHTML = product.images.map((imgSrc, index) => `
                    <img src="${imgSrc}" 
                         alt="${product.name} ${index}" 
                         class="thumb-img ${index === 0 ? 'active' : ''}" 
                         onclick="updateView(this); currentImgIndex = ${index};"
                    >
                `).join('');
            }

            // -- –ó–ê–ü–£–°–ö –ê–ö–¶–Ü–ô (–ü–ï–ö–ï–õ–¨–ù–ò–ô –¢–ò–ñ–î–ï–ù–¨) --
            // –û—Å–∫—ñ–ª—å–∫–∏ –º–∏ –∑–º—ñ–Ω–∏–ª–∏ —Ü—ñ–Ω—É –¥–∏–Ω–∞–º—ñ—á–Ω–æ, —Ç—Ä–µ–±–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –∑–Ω–∏–∂–æ–∫
            if (typeof applyGlobalSale === 'function') {
                applyGlobalSale();
                // --- –õ–û–ì–Ü–ö–ê –†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–ô –£ –°–ê–ô–î–ë–ê–†–Ü (–ü—Ä—è–º–æ —Ç—É—Ç!) ---
            const sideRecGrid = document.getElementById('sidebar-rec-grid');
            if (sideRecGrid) {
                const allIds = Object.keys(allProducts);
                const otherIds = allIds.filter(id => id !== productId);
                const randomIds = otherIds.sort(() => 0.5 - Math.random()).slice(0, 3);

                sideRecGrid.innerHTML = randomIds.map(id => {
                    const item = allProducts[id];
                    return `
                        <a href="product.html?id=${id}" style="text-decoration: none; color: inherit; display: block; margin-bottom: 25px;">
                            <div class="side-rec-card">
                                <img src="${item.images[0]}" style="width: 100%; height: 120px; object-fit: cover; border: 1px solid #33251e; margin-bottom: 8px;">
                                <h4 style="margin: 0; font-size: 13px; line-height: 1.2; opacity: 0.9;">${item.name}</h4>
                                <div style="color: var(--primary-orange); font-weight: bold; font-size: 14px; margin-top: 4px;">${item.price.toFixed(2)} ‚Ç¥</div>
                            </div>
                        </a>
                    `;
                }).join('');
            }
            }
            // --- –õ–û–ì–Ü–ö–ê –í–Ü–î–ì–£–ö–Ü–í –£ –°–ê–ô–î–ë–ê–†–Ü ---
            const sideReviewsList = document.getElementById('sidebar-reviews-list');
            if (sideReviewsList && product.reviews) {
                if (product.reviews.length > 0) {
                    sideReviewsList.innerHTML = product.reviews.map(rev => `
                        <div style="margin-bottom: 15px; background: rgba(255,255,255,0.02); padding: 10px; border-left: 2px solid var(--primary-orange);">
                            <div style="font-size: 12px; font-weight: bold; color: #eaddcf;">${rev.author}</div>
                            <p style="margin: 5px 0 0 0; font-size: 13px; font-style: italic; opacity: 0.7; line-height: 1.3;">
                                "${rev.text}"
                            </p>
                        </div>
                    `).join('');
                } else {
                    sideReviewsList.innerHTML = '<p style="font-size: 12px; opacity: 0.5;">–ü–æ–∫–∏ –Ω–µ–º–∞—î –≤—ñ–¥–≥—É–∫—ñ–≤. –ë—É–¥—å—Ç–µ –ø–µ—Ä—à–∏–º!</p>';
                }
            }
      
        } else {
            // –Ø–∫—â–æ ID –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –∞–±–æ –π–æ–≥–æ –Ω–µ–º–∞—î
            document.querySelector('.product-page').innerHTML = 
                '<h2 style="grid-column: span 2; text-align: center; padding: 50px;">–¢–æ–≤–∞—Ä –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ üòï <br><a href="index.html" class="add-btn" style="display:inline-block; width:auto; margin-top:20px;">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥</a></h2>';
            }
    });

   

    // –§—É–Ω–∫—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≥–æ–ª–æ–≤–Ω–æ–≥–æ —Ñ–æ—Ç–æ (–≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∑ onclick –º—ñ–Ω—ñ–∞—Ç—é—Ä)
    function updateView(el) {
        const mainImg = document.getElementById('main-view');
        mainImg.src = el.src;
        document.querySelectorAll('.thumb-img').forEach(t => t.classList.remove('active'));
        el.classList.add('active');
    }
</script>

</body>
</html>